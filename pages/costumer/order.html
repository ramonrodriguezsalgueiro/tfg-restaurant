<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hacer pedido</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <header class="topbar">
    <nav><a href="/order">Pedidos</a> · <a href="/book">Reservas</a> · <a id="logout" href="#">Salir</a></nav>
  </header>

  <main class="container">
    <section class="grid-2">
      <!-- Columna izquierda: Menú / Inventario -->
      <div class="card">
        <h1>Menú</h1>

        <!-- Buscador de restaurante (debajo del H1) -->
        <div style="position:relative; margin: 8px 0 16px;">
          <label>Buscar restaurante
            <input type="text" id="restSearch" placeholder="Nombre o CIF" autocomplete="off" />
            <input type="hidden" id="restaurantId" />
          </label>
          <div id="restResults"
               class="card"
               style="display:none; position:absolute; left:0; right:0; top:56px; z-index:10; max-height:240px; overflow:auto;">
          </div>
        </div>

        <!-- Aquí se renderiza el inventario del restaurante seleccionado -->
        <div id="menu"></div>

        <!-- Botón Solicitar (envía la comanda al empleado) -->
        <div class="row" style="margin-top:12px;">
          <button id="submitOrder" type="button">Solicitar</button>
        </div>
        <p id="menuMsg" class="muted"></p>
      </div>

      <!-- Columna derecha: Carrito y pago (simulado) -->
      <div class="card">
        <h1>Carrito</h1>
        <div id="cart"></div>

        <form id="orderForm" class="form-grid">
          <label>Método
            <select name="method">
              <option value="dine-in">En mesa</option>
              <option value="pickup">Para recoger</option>
            </select>
          </label>
          <label>Número de mesa (si aplica)
            <input type="text" name="tableNumber" />
          </label>
          <label>Notas
            <input type="text" name="notes" placeholder="Sin cebolla..." />
          </label>
          <button type="submit">Pagar (simulado)</button>
        </form>
        <p id="orderMsg" class="muted"></p>
      </div>
    </section>

    <section class="card">
      <h2>Mis pedidos</h2>
      <div id="myOrders"></div>
    </section>
  </main>

  <script src="/js/order.js"></script>
</body>
</html>
